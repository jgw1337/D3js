<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Learning D3</title>
    <link rel="stylesheet" href="main.css">
    <script src="d3.min.js"></script>
  </head>
  <body>
    <script>
    var w = 800;
    var h = 450;
    var data = [132,71,337,93,78,43,20,16,30,8,17,21];
    var x = d3.scaleLinear()
              .domain([0, d3.max(data)])
              .range([0, w]);
    var y = d3.scaleLinear()
              .domain([0, data.length])
              .range([0, h]);
    var svg = d3.select("body").append("svg")
                .attr("id", "chart")
                .attr("width", w)
                .attr("height", h);
    svg.selectAll(".bar")
       .data(data)
       .enter()
          .append("rect")
          .classed("bar", true)
          .attr("x", 0)
          .attr("y", function(datum, idx){
            return y(idx);
          })
          .attr("width", function(datum, idx){
            return x(datum);
          })
          .attr("height", y(1)-1);
    svg.selectAll(".bar-label")
       .data(data)
       .enter()
          .append("text")
          .classed("bar-label", true)
          .attr("x", function( datum, idx) {
            return x(datum);
          })
          .attr("dx", -4)
          .attr("y", function(datum, idx){
            return y(idx);
          })
          .attr("dy", function(datum, idx) {
            return y(1)/1.5+2;
          })
          .text(function(datum, idx) {
            return datum;
          });
        </script>
  </body>
</html>